<!doctype html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns:og="http://opengraphprotocol.org/schema/">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
  
    <meta name="viewport" content="width=640" />
  
  <meta name="theme-color" content="#FDDB29">
  <link href="/i/favicon.png" rel="icon" sizes="32x32">

  <link href='/style.css?v=20201203' rel='stylesheet' type='text/css' />
  <title>Humble Chronicles: Developer Experience @ tonsky.me</title>

  <link href="/blog/atom.xml" rel="alternate" title="Nikita Prokopov’s blog" type="application/atom+xml" />

  <meta name="author" content="Nikita Prokopov" />
  
  <meta property="og:title" content="Humble Chronicles: Developer Experience" />
  <meta property="og:url" content="https://tonsky.me/blog/humble-dx/" />
  
    <meta property="og:type" content="article" />

    <meta property="article:published_time" content='2022-02-22' />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="Humble Chronicles: Developer Experience" />
  

  
    <meta property="og:description" content="Using Humble UI from the REPL" />
    <meta name="twitter:description" content="Using Humble UI from the REPL" />
  

  <meta property="og:site_name" content="tonsky.me" />
  <meta property="article:author" content="https://www.facebook.com/nikitonsky" />
  <meta property="profile:first_name" content="Nikita" />
  <meta property="profile:last_name" content="Prokopov" />
  <meta property="profile:username" content="tonsky" />
  <meta property="profile:gender" content="male" />

  <meta name="twitter:creator" content="@nikitonsky" />
</head>
<body>
<div class="page ">

<ul class=menu>
  <li><a class="menu__item menu__item_inside" href="/">Blog</a></li>
  <li><a class="menu__item" href="/talks/">Talks</a></li>
  <li><a class="menu__item" href="/projects/">Projects</a></li>
  <li><a class="menu__item" href="/design/">Logos</a></li>
  <!-- <li><a class="menu__item" href="/consulting/">UX&nbsp;Consulting</a></li> -->
  <li><a class="menu__item" href="/patrons/">Patrons</a></li>
  <div class="spacer"></div>
  <div class="dark_mode"></div>
</ul>


<article class="post">
  <h1 class="title">Humble Chronicles: Developer Experience</h1>

  <p></p>

  <p>This is a third post documenting the process of developing <a href="https://github.com/HumbleUI/HumbleUI/">Humble UI</a>, a Clojure UI framework. In this post, we discuss cross-platform REPL-driven development.</p>

<h1 id="interactive-development">Interactive development</h1>

<p>When building UIs, fast iteration times are crucial for good results. The quality of the result is directly proportional to the amount of iterations you go through during the development.</p>

<p>Another thing about UI development: most of the time it’s a constant stream of small tweaks: change a color here, add a padding there, make line shorter over there. Almost never building a UI is a huge blind upfront effort, it’s just doesn’t happen.</p>

<p>Now, statically typed languages traditionally struggle with that type of experience. You either need to recompile and re-run your app, which takes time and loses you your state, or build and approximate version of the UI from the XML description or code, which might differ from a real thing.</p>

<figure>
<iframe width="338" height="600" src="https://www.youtube.com/embed/OMzREI8W4G8" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>
</figure>

<p>Clojure is uniquely positioned for UI development specifically: it’s a language designed around REPL and live modifications, which is <a href="https://tonsky.me/blog/interactive-development/">great for any day-to-day coding</a>, but really starts to shine when applied to UI.</p>

<p>In fact, REPL-driven development is the main reason why I think this effort has any chance of getting traction: it’s qualitative difference from almost any other tool out there (except, maybe, browser, if cooked right).</p>

<p>Here, watch me changing constants, updating the layout, modifying <em>the UI code</em> and running the tests all without ever leaving the editor. With instant feedback and full state persistence:</p>

<figure>
  <video autoplay="" muted="" loop="" preload="auto" playsinline="" controls=""><source src="./repl.mp4" type="video/mp4" /></video>
</figure>

<p>Can your UI framework do that?</p>

<h1 id="crossing-platforms">Crossing platforms</h1>

<p>Humble UI is a cross-platform framework, which might be both good and bad thing.</p>

<p>Bad because it doesn’t make use of platform-native widgets and as a result apps don’t look native. But, in the age of web and Electron, I don’t think it’s a big deal.</p>

<p>Good because it somewhat delivers on “Write once, run anywhere” mantra.</p>

<p>With a slight twist: we do try to abstract common stuff (e.g. window size or mouse events) but also respect platform special traits (e.g. toolbar styles on macOS). Latter will only work on specific platforms, but if you want to go extra mile, there’ll be an option for you.</p>

<h1 id="building-an-app">Building an app</h1>

<p>After many months working on JWM and Humble UI and a few days getting calculator app to work on macOS, I finally booted Windows and it was there, too, real, flesh and bone, working with no extra effort. I booted in Linux and it also was a success!</p>

<figure>
  <img src="./calculator.png" />
</figure>

<p>It’s a fantastic feeling, after working on the internals for so long, finally apply it to something and feel that it does something useful and has a reason to exist.</p>

<p>If you are wondering what it feels building an app from scratch, there’s a video of Wordle implementation from start to finish in ~3 hours:</p>

<iframe width="600" height="338" src="https://www.youtube.com/embed/qSswvHrVnvo" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<p>Humble UI if far from being usable: it lacks a lot, and what it got will very likely change in the near future. Yet, for the curious, the link is <a href="https://github.com/HumbleUI/HumbleUI/">GitHub.com/HumbleUI/HumbleUI/</a></p>


  <p class=footer>
    <span>February 22, 2022</span>
    

    
  </p>

  <script>
    document.querySelectorAll(".hoverable").forEach(function (e) {
        e.onclick = function() { e.classList.toggle("clicked"); }
    });
  </script>

  
  <div class="about">
    <div class="about_photo"></div>
    <div class="about_inner">
      <p>Hi!</p>
      <p>I’m Nikita. Here I write about programming and UI design <a style="margin-left: 5px" class="btn-subscribe" href="/blog/how-to-subscribe/" target="_blank"><svg viewBox="0 0 800 800"><path d="M493 652H392c0-134-111-244-244-244V307c189 0 345 156 345 345zm71 0c0-228-188-416-416-416V132c285 0 520 235 520 520z"/><circle cx="219" cy="581" r="71"/></svg> Subscribe</a></p>
      <p>I also create open-source stuff: Fira Code, AnyBar, DataScript and Rum. If you like what I do and want to get early access to my articles (along with other benefits), you should <a href="https://patreon.com/tonsky" target="_blank">support me on Patreon</a>.</p>
    </div>
  </div>
  

</article>


<div class="preload"></div>

</div>

<script>
  function updateFlashlight(e) {
    var style = document.body.style;
    style.backgroundPositionX = e.pageX - 250 + "px";
    style.backgroundPositionY = e.pageY - 250 + "px";
  }

  document.querySelector(".dark_mode").onclick = function(e) {
    var body = document.body;
    body.classList.toggle("dark");
    if (body.classList.contains("dark")) {
      updateFlashlight(e);
      ["mousemove", "touchstart", "touchmove", "touchend"].forEach(function(s) {
        document.documentElement.addEventListener(s, updateFlashlight, false);
      });
    } else {
      ["mousemove", "touchstart", "touchmove", "touchend"].forEach(function(s) {
        document.documentElement.removeEventListener(s, updateFlashlight, false);
      });
    }
  }
</script>
