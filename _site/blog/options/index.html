<!doctype html>
<html lang="en" prefix="og: http://ogp.me/ns#" xmlns:og="http://opengraphprotocol.org/schema/">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8"/>
  
    <meta name="viewport" content="width=640" />
  
  <meta name="theme-color" content="#FDDB29">
  <link href="/i/favicon.png" rel="icon" sizes="32x32">

  <link href='/style.css?v=20201203' rel='stylesheet' type='text/css' />
  <title>You don’t want many options @ tonsky.me</title>

  <link href="/blog/atom.xml" rel="alternate" title="Nikita Prokopov’s blog" type="application/atom+xml" />

  <meta name="author" content="Nikita Prokopov" />
  
  <meta property="og:title" content="You don’t want many options" />
  <meta property="og:url" content="https://tonsky.me/blog/options/" />
  
    <meta property="og:type" content="article" />

    <meta property="article:published_time" content='2017-09-17' />

    <meta name="twitter:card" content="summary" />
    <meta name="twitter:title" content="You don’t want many options" />
  

  
    <meta property="og:description" content="Don’t get excited about libraries that offer many options" />
    <meta name="twitter:description" content="Don’t get excited about libraries that offer many options" />
  

  <meta property="og:site_name" content="tonsky.me" />
  <meta property="article:author" content="https://www.facebook.com/nikitonsky" />
  <meta property="profile:first_name" content="Nikita" />
  <meta property="profile:last_name" content="Prokopov" />
  <meta property="profile:username" content="tonsky" />
  <meta property="profile:gender" content="male" />

  <meta name="twitter:creator" content="@nikitonsky" />
</head>
<body>
<div class="page ">

<ul class=menu>
  <li><a class="menu__item menu__item_inside" href="/">Blog</a></li>
  <li><a class="menu__item" href="/talks/">Talks</a></li>
  <li><a class="menu__item" href="/projects/">Projects</a></li>
  <li><a class="menu__item" href="/design/">Logos</a></li>
  <!-- <li><a class="menu__item" href="/consulting/">UX&nbsp;Consulting</a></li> -->
  <li><a class="menu__item" href="/patrons/">Patrons</a></li>
  <div class="spacer"></div>
  <div class="dark_mode"></div>
</ul>


<article class="post">
  <h1 class="title">You don’t want many options</h1>

  <p></p>

  <p>A nice little library came up the other day: <a href="https://github.com/tolitius/cprop"><code class="language-plaintext highlighter-rouge">cprop</code></a>. Simply put, it’s a swiss army knife of configuration management: it can load configs from classpath, files, DB or environment, it merges configs, provides defaults, does type coercion etc.</p>

<p>Should you use it? It’s easy to say yes, but I say no.</p>

<h2 id="yes-path">“Yes” path</h2>

<p>Choosing something like <code class="language-plaintext highlighter-rouge">cprop</code> is usually a no-brainer. After all, you need <em>something</em> to manage configs, and library like that is obviously future-proof. If you don’t need everything at the start, you might decide to use it <em>just</em> for simple things like port numbers and <em>only</em> load them from the environment and nothing more. Using existing library is still better than rolling your own solution.</p>

<p>But projects are long endeavors. Somewhere down the road, you might have a situation: a demand will come up that is most easily addressed by using some other part of <code class="language-plaintext highlighter-rouge">cprop</code>. What would you do?</p>

<p>Let’s see: <code class="language-plaintext highlighter-rouge">cprop</code> is already in the project, it has the perfect solution, its authors already made all the design decisions and implemented all the code which is just sitting there, waiting, ready to be used. Using more of <code class="language-plaintext highlighter-rouge">cprop</code> <em>at that point</em> will be the absolutely rational, most effective decision you can make.</p>

<p>The downside though is that eventually you’ll end up with a really complex configuration system. It’s nobody’s fault, it’s just how project dynamics work.</p>

<h2 id="no-path">“No” path</h2>

<p>Alternatively, if you choose a much more focused library or decided to roll your own minimal solution, when that demand comes up there’ll be nothing to address it.</p>

<p>This moment is important: you’ll realize that making config more complicated is <em>not free</em> anymore. Because of that, you might decide not to extend your configuration system but build a workaround or introduce a convention. Your config might, as a result, stay simple.</p>

<p>This is backpressure: your home-grown configuration system <em>resists</em> being extended, and <em>it’s a good thing</em>. It keeps you from turning everything into a complicated mess or at least postpones that moment. Value it. Look for ways to restrain complexity creep and don’t get excited about the plethora of options.</p>


  <p class=footer>
    <span>September 17, 2017</span>
    

    
  </p>

  <script>
    document.querySelectorAll(".hoverable").forEach(function (e) {
        e.onclick = function() { e.classList.toggle("clicked"); }
    });
  </script>

  
  <div class="about">
    <div class="about_photo"></div>
    <div class="about_inner">
      <p>Hi!</p>
      <p>I’m Nikita. Here I write about programming and UI design <a style="margin-left: 5px" class="btn-subscribe" href="/blog/how-to-subscribe/" target="_blank"><svg viewBox="0 0 800 800"><path d="M493 652H392c0-134-111-244-244-244V307c189 0 345 156 345 345zm71 0c0-228-188-416-416-416V132c285 0 520 235 520 520z"/><circle cx="219" cy="581" r="71"/></svg> Subscribe</a></p>
      <p>I also create open-source stuff: Fira Code, AnyBar, DataScript and Rum. If you like what I do and want to get early access to my articles (along with other benefits), you should <a href="https://patreon.com/tonsky" target="_blank">support me on Patreon</a>.</p>
    </div>
  </div>
  

</article>


<div class="preload"></div>

</div>

<script>
  function updateFlashlight(e) {
    var style = document.body.style;
    style.backgroundPositionX = e.pageX - 250 + "px";
    style.backgroundPositionY = e.pageY - 250 + "px";
  }

  document.querySelector(".dark_mode").onclick = function(e) {
    var body = document.body;
    body.classList.toggle("dark");
    if (body.classList.contains("dark")) {
      updateFlashlight(e);
      ["mousemove", "touchstart", "touchmove", "touchend"].forEach(function(s) {
        document.documentElement.addEventListener(s, updateFlashlight, false);
      });
    } else {
      ["mousemove", "touchstart", "touchmove", "touchend"].forEach(function(s) {
        document.documentElement.removeEventListener(s, updateFlashlight, false);
      });
    }
  }
</script>
